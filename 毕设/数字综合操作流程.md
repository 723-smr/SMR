整个流程有⼀个模板的⽂件夹，以这个模板为基础，开始以下的流程：
![](assets/数字综合操作流程/file-20260120101458546.png)
# 1.导入Verilog文件

通过scp指令将Windows中的Verilog⼯程（RTL中的.v文件）导⼊到RTL_latest 这个⽂件夹中
![](assets/数字综合操作流程/file-20260120101655530.png)
# 2.建立Digital Circuit

## a.改名

将代码放入RTL_latest之后，退回到上⼀级⽬录，进⼊dc ⽂件夹，输⼊以下指令改名：

> ./change_name.sh current_top_module_name
![](assets/数字综合操作流程/file-20260120101734770.png)

注意：不是直接输⼊ current_top_module_name 这串⽂字，⽽是输⼊你的代码中top模块的名字。

  

## b.修改约束周期

在dc⽬录下进⼊到scr⽂件夹内，打开constraints.tcl，修改约束周期：

![7a495e3e8f671abec7beaf161c2a0afd.png](en-resource://database/1135:1)

改的是时钟的周期，在always #5 sclk=~sclk；中，这里应该改成10；

  

## c. make find & make syn

退回到dc⽂件夹之后，在其中打开terminal，输⼊**make find** 指令确保RTL⽂件夹内所有的源码都被包含，可以进⼊data⽂件夹中去确认，确认完后，继续在terminal中输⼊**make syn**。

  

## d.确认结果合理

进⼊rpt⽂件夹，打开**current_top_module_name.timing**⽂件，下翻到底找到 **slack(MET)** 这一行，只要显示**大于等于0**就可以确认综出来。

![73cb2b1acbcfbe962a78a7106f2181fd.png](en-resource://database/1139:1)

![308398794d6be7494dfa2e1f721269ce.png](en-resource://database/1137:1)

  

# 3.布线 （Place&Route，PR）

## a.打开innovus

* 【apr】【work】，打开terminal，输入innovus（出现failed没关系，继续enter）

* 打开innovus后，继续在之前的terminal中输入：

> source ../script/01_innovus_import_design.tcl

(这里输入01后可以用tab补齐，不用挨个打）

注意：一定一定要在输入innovus的那个终端中使用source指令，一定一定，如果这个终端被关上了，就得重新开一个输入innovus后才能进行后续操作

  

## b.修改布局

经过上述步骤后，可以得到整体的布局，如果想改变布局，可以打开【Floor Plan】【specify】修改其中的Width&Height（可以不改，改的话面积最好差不多）

  

## c.设置pin

* Edit→pinEditor→布线

![f215229e2783036bdafaf1a60416bd2e.png](en-resource://database/1143:1)

* 在之前打开innovus的terminal中继续按照02~09的命令顺序跑完剩下的部分

>source ../script/02_...(这里按tab之后会自动补全）

>![311ec8c75c9c01c13b3bb4fc70954487.png](en-resource://database/1145:1)

* 跑完之后，到v2cdl_new2中运行该命令：

![4430e01803d5cd7c9b9a820185bcbb50.png](en-resource://database/1147:1)

  

# 4.导入virtuoso

## a.在gta里打开virtuoso

![49d2316685366fead69f981dab3971ab.png](en-resource://database/1149:1)

![8e12866230175edb9b7670c8edab2b1d.png](en-resource://database/1151:1)

  

## b.导入到library中

* 创建一个library

![4a56ad9c2f2adbb0351d6ec290f6e871.png](en-resource://database/1157:1)

  

* 从virtuoso窗口import

>**SPICE是原理图，Stream是版图。原理图导入.cdl文件，版图导入的是.gds文件**

  

**SPICE:**

![1f853968882cfc289ed03a5e2b3b1cd8.png](en-resource://database/1153:1)

![252f72ce097fa16e62bef1f001e7c8ad.png](en-resource://database/1155:1)

![6986d2cd4f2900c8150806ae1e197fb2.png](en-resource://database/1156:1)

**Stream：**

![3babc446f1900721e75516207f0ad858.png](en-resource://database/1159:1)

More Options修改：

![201f453c1d7ec03e9bed0b9b06b18760.png](en-resource://database/1160:1)

#### `这里要特别注意一点：在virtuoso里面打开schematic或layout的时候用read only，不然稍微动一根线就完啦！！！`

  

# 5.在virtuoso中仿真验证

## a.建立数字综合电路的symbol

按照下图在schematic里面创建symbol

![2e6967d7a455b6301c3455f689e56503.png](en-resource://database/1162:1)

![795c3d181ac034b050823c06b2e3280f.png](en-resource://database/1164:1)

![c030e320572eb4fb13a42ecefd3a0144.png](en-resource://database/1166:1)

点击ok之后改上下左右的pin

  

## b.搭建tb

i，放入之前library创建的symbol，放好symbol之后，**点击symbol高亮后再按空格键自动出现每个pin的label**：

![7b7ad39178c5f364b946e3843b6a8c17.png](en-resource://database/1170:1)

添加AVDD,AGND,SCK,MOSI,CS:

![65d7b16f03466906d753b86a4ce03835.png](en-resource://database/1172:1)

其中SCK设置成和之前.v文件里周期一致（50MHz）的pulse即可：

![d6bb5441f684da44f36ff8afa7afd6e3.png](en-resource://database/1174:1)

MOSI和CS都用matlab生成的dat文件导入，通过scp传到gta的Ditital_data中，再导入：

![068a2756586e9fd6860f7369f89deff6.png](en-resource://database/1176:1)

最终：

![16c0982ddd449b088e3eccc953a86948.png](en-resource://database/1168:1)

  

## c.ADE_XL

ADE_XL是在ADE_L的基础上创建的

![ec4f51f8aaccd81344ec20ac3edf84f0.png](en-resource://database/1178:1)

设置好后直接点击仿真

  

## d.plot波形

选择一个字节，plot波形：

![c6c7db44846eaa1cb144d61f4ef6f2b7.png](en-resource://database/1180:1)

可以直接给出这一个字节的十进制表示：

![9b62f49d00ce42a173b0a21ee71f5160.png](en-resource://database/1184:1)

![376ac0f0cbff1c01635d2c1d5a279810.png](en-resource://database/1188:1)

显示如下：![a51fd1a4590ac8748a5752282fd96228.png](en-resource://database/1190:1)

  

## e.将对应的bus的digital结果导出

![184d2c381eb0ba24bab379e96c617231.png](en-resource://database/1192:1)

存为CSV文件：

![9ce61a71a0667283228a37ab70c6fc80.png](en-resource://database/1194:1)