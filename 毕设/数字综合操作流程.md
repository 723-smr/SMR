整个流程有⼀个模板的⽂件夹，以这个模板为基础，开始以下的流程：
![](assets/数字综合操作流程/file-20260120101458546.png)
# 1.导入Verilog文件

通过scp指令将Windows中的Verilog⼯程（RTL中的.v文件）导⼊到RTL_latest 这个⽂件夹中
![](assets/数字综合操作流程/file-20260120101655530.png)
# 2.建立Digital Circuit

## a.改名

将代码放入RTL_latest之后，退回到上⼀级⽬录，进⼊dc ⽂件夹，输⼊以下指令改名：

> ./change_name.sh current_top_module_name

![](assets/数字综合操作流程/file-20260120101734770.png)

注意：不是直接输⼊ current_top_module_name 这串⽂字，⽽是输⼊你的代码中top模块的名字。

  

## b.修改约束周期

在dc⽬录下进⼊到scr⽂件夹内，打开constraints.tcl，修改约束周期：
![](assets/数字综合操作流程/file-20260120102026910.png)
改的是时钟的周期，在always #5 sclk=~sclk；中，这里应该改成10；

## c. make find & make syn

退回到dc⽂件夹之后，在其中打开terminal，输⼊**make find** 指令确保RTL⽂件夹内所有的源码都被包含，可以进⼊data⽂件夹中去确认，确认完后，继续在terminal中输⼊**make syn**。

## d.确认结果合理

进⼊rpt⽂件夹，打开**current_top_module_name.timing**⽂件，下翻到底找到 **slack(MET)** 这一行，只要显示**大于等于0**就可以确认综出来。
![](assets/数字综合操作流程/file-20260120102120802.png)
![](assets/数字综合操作流程/file-20260120102140814.png)
# 3.布线 （Place&Route，PR）

## a.打开innovus

* 【apr】【work】，打开terminal，输入innovus（出现failed没关系，继续enter）

* 打开innovus后，继续在之前的terminal中输入：

> source ../script/01_innovus_import_design.tcl
   (这里输入01后可以用tab补齐，不用挨个打）
   注意：一定一定要在输入innovus的那个终端中使用source指令，一定一定，如果这个终端被关上了，就得重新开一个输入innovus后才能进行后续操作

## b.修改布局

经过上述步骤后，可以得到整体的布局，如果想改变布局，可以打开【Floor Plan】【specify】修改其中的Width&Height（可以不改，改的话面积最好差不多）

## c.设置pin

* Edit→pinEditor→布线
![](assets/数字综合操作流程/file-20260120102234893.png)

* 在之前打开innovus的terminal中继续按照02~09的命令顺序跑完剩下的部分

>source ../script/02_...(这里按tab之后会自动补全）
>![](assets/数字综合操作流程/file-20260120102250021.png)

* 跑完之后，到v2cdl_new2中运行该命令：
![](assets/数字综合操作流程/file-20260120102315230.png)

# 4.导入virtuoso

## a.在gta里打开virtuoso
![](assets/数字综合操作流程/file-20260120102334782.png)
![](assets/数字综合操作流程/file-20260120102346556.png)

## b.导入到library中

* 创建一个library
![](assets/数字综合操作流程/file-20260120102403151.png)

* 从virtuoso窗口import

>**SPICE是原理图，Stream是版图。原理图导入.cdl文件，版图导入的是.gds文件**

**SPICE:**
![](assets/数字综合操作流程/file-20260120102435306.png)
![](assets/数字综合操作流程/file-20260120102450071.png)
![](assets/数字综合操作流程/file-20260120102511315.png)

**Stream：**
![](assets/数字综合操作流程/file-20260120102522719.png)

More Options修改：
![](assets/数字综合操作流程/file-20260120102549632.png)
#### `这里要特别注意一点：在virtuoso里面打开schematic或layout的时候用read only，不然稍微动一根线就完啦！！！`

# 5.在virtuoso中仿真验证

## a.建立数字综合电路的symbol

按照下图在schematic里面创建symbol
![](assets/数字综合操作流程/file-20260120102620947.png)
![](assets/数字综合操作流程/file-20260120102632649.png)
![](assets/数字综合操作流程/file-20260120102642504.png)

点击ok之后改上下左右的pin

## b.搭建tb

按i，放入之前library创建的symbol，放好symbol之后，**点击symbol高亮后再按空格键自动出现每个pin的label**：

![](assets/数字综合操作流程/file-20260120102718805.png)

添加AVDD,AGND,SCK,MOSI,CS:
![](assets/数字综合操作流程/file-20260120102729445.png)

其中SCK设置成和之前.v文件里周期一致（50MHz）的pulse即可：
![](assets/数字综合操作流程/file-20260120102755479.png)

MOSI和CS都用**matlab生成的dat文件**导入，通过scp传到gta的Ditital_data中，再导入：
![](assets/数字综合操作流程/file-20260120102825372.png)

最终：
![](assets/数字综合操作流程/file-20260120102854461.png)
## c.ADE_XL

ADE_XL是在ADE_L的基础上创建的
![](assets/数字综合操作流程/file-20260120102916754.png)
设置好后直接点击仿真

## d.plot波形

选择一个字节，plot波形：
![](assets/数字综合操作流程/file-20260120102943053.png)

可以直接给出这一个字节的十进制表示：
![](assets/数字综合操作流程/file-20260120102958600.png)
![](assets/数字综合操作流程/file-20260120103014710.png)

显示如下：![](assets/数字综合操作流程/file-20260120103025555.png)

  

## e.将对应的bus的digital结果导出

![](assets/数字综合操作流程/file-20260120103037598.png)

存为CSV文件：
![](assets/数字综合操作流程/file-20260120103225618.png)